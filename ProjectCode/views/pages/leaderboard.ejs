<div class="col"><%- include ('../partials/message') %></div>
<%- include ('../partials/header') %>
<%- include ('../partials/menu') %>

<style>
    .center#rectangle {
        background-color: #77bd28;
        margin:auto;
        border-radius: 10px;
        color: white;
    }
    .container-fluid#rectangle {
        background-color:#77bd28;
        border-radius: 10px;
        color: white
    }
</style>

<body>
    <main>
        <div class = "container-fluid">
            <div class = "leaderboard">
                <br>
                <div class = "center" id = "rectangle">
                    <h2> LEADERBOARD </h2>
                </div>
                <br><br>
                <div class = "container-fluid">
                    <% if (data.length >= 1) { %>
                    <div class = "row-auto" style="display:flex; justify-content: center; padding-bottom: 40px;">
                    <div class = "card" style = "border-radius: 50%; padding-top:20px; height:200px; width:300px;">
                        <div class = "card-body" style = "background-color: white; width: 100%; height: 100%; border-radius: 50%; display: inline-block;">
                            <div class = "text">
                                <!--Some username blah ...  / Profile picture / link ... ? akldnslakndsalkdnkasldmcklsamdlasdmasl;dmal;ms;ld?aklsndklasndklaslksakldsamkldmaskdaskldaskldmask;dmas;dmaskfdma;skldmas;dm-->
                                <%= data[0].username %>
                            </div>
                        </div>
                        <div class = "card-footer border-0" style = "background-color:rgba(255, 255, 255, 0);  display: inline-block; ">
                            <img src = "https://images2.imgbox.com/5a/bd/Q4KNJ5wq_o.png" alt = "you are number 1" style = "height:40px; width:40px; ">
                        </div>   
                    </div>
                    </div>
                    <% } %>

                    <div class = "row gx-5" style="display:flex; justify-content: center; padding-bottom: 50px;">
                        <% if (data.length >= 2) { %>
                        <div class="col-auto">
                        <div class = "card" style = "border-radius: 50%; padding-top:20px;height: 200px;width: 300px;">
                            <div class = "card-body" style = "background-color: white; width:100%;height:100%; border-radius: 50%; display: inline-block;">
                                <div class = "text">
                                    <!--Some username blah ...  / Profile picture / link ... ? akldnslakndsalkdnkasldmcklsamdlasdmasl;dmal;ms;ld?-->
                                    <%= data[1].username %>
                                </div>
                            </div>
                            <div class = "card-footer border-0" style = "background-color:rgba(255, 255, 255, 0);  display: inline-block;position:relative">
                                <img src = "https://images2.imgbox.com/f7/c4/XaUFR6Fl_o.png" alt = "you are number 2" style = "height:40px; width:40px;">
                            </div>   
                        </div>
                        </div>
                        <% } %>

                        <% if (data.length >= 3) { %>
                        <div class = "col-auto">
                        <div class = "card" style = "border-radius: 50%; padding-top:20px;height: 200px;width: 300px;">
                            <div class = "card-body" style = "background-color: white; width:100%;height:100%; border-radius: 50%; display: inline-block;">
                                <div class = "text">
                                    <!--Some username blah ...  / Profile picture / link ... ? akldnslakndsalkdnkasldmcklsamdlasdmasl;dmal;ms;ld?-->
                                    <%= data[2].username %>
                            </div>
                            </div>
                            <div class = "card-footer border-0" style = "background-color:rgba(255, 255, 255, 0);  display: inline-block;position:relative">
                                <img src = "https://images2.imgbox.com/47/13/z05O5zsv_o.png" alt = "you are number 3" style = "height:40px; width:40px;">
                            </div>   
                        </div>
                        </div>
                        <% } %>
                    </div>
                </div>
                
                <div class = "container-fluid" id="rectangle" style=" padding:10px;">
                    
                    <div style="display:flex; justify-content: end">
                    <form style="margin:0" action='/records' method='GET'>
                            <button type='submit' class='login_button'>Add/Edit Record</button>
                    </form>
                    </div>
                     <% if(data.length === 0){ %>
                    <h4 class="text-center display-6">Leaderboard empty.</h4>
                    <% }else{ %>
                    <table class="table table-striped table-hover">
                        <thead>
                        <tr>
                            <th scope="col">Username</th>
                            <th scope="col">Weight Record</th>
                            <th scope="col">Run Record</th>
                        </tr>
                        </thead>
                        <tbody id="tableBody">
                        <% data.forEach(ev => { %>
                        <tr class = "table-primary" style="vertical-align:middle;">
                            <td><%= ev.username %></td>
                            <td><%= ev.weightrecord %></td>
                            <td><%= ev.runrecord %></td>
                            <% }) %>
                        </tbody>
                    </table>
                    <% } %>
                </div>
            </div>
        </div>
    </main>
</body>
<%- include ('../partials/footer') %>